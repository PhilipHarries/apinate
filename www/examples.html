<!DOCTYPE HTML>
<!--
    CSS Template: Linear by TEMPLATED - templated.co @templatedco
    Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>apinate.io</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,700,500,900' rel='stylesheet' type='text/css'>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-panels.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
	</head>
	<body>

	<!-- Header -->
		<div id="header">
			<div id="nav-wrapper"> 
				<!-- Nav -->
				<nav id="nav">
					<ul>
						<li><a href="index.html">Homepage</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li class="active"><a href="examples.html">Examples</a></li>
						<li><a href="download.html">Download</a></li>
					</ul>
				</nav>
			</div>
			<div class="container"> 
				
				<!-- Logo -->
				<div id="logo">
					<h1><a href="#">apinate</a></h1>
					<span class="tag">single binary, config-driven, arbitrary APIs</span>
				</div>
			</div>
		</div>
	<!-- Header --> 

	<!-- About -->
		<div id="main">
			<div id="content" class="container">

				<section>
					<header>
						<h2>Examples</h2>
					</header>
          <div class="row">
            <section class="12u">
              <p>The following example makes use of a script called <code>peopledb</code> that may be found in the <code>examples</code> subdirectory of the project's <a href="https://github.com/PhilipHarries/apinate">github repository</a>.</p>
              <p><code>peopledb</code> may be used to store, update and retrieve name and age records for a group of people.  <em>apinate</em> is used to configure the script first to output html, and then to output json, using the <em>raw</em> output parameter.</p>
              <p><script type="text/javascript" src="https://asciinema.org/a/eskyshqa3fz114ymac7snc8ej.js" id="asciicast-eskyshqa3fz114ymac7snc8ej" async></script></p>
              <p>In the course of the demo, the following config file is created:</p>
              <pre style="font-family: monospace" class="boxed">
{
  "contenttype": "html",
  "mappings": [
    {
      "resource": "peopledb",
      "command": "/tmp/peopledb.sh",
      "params": false,
      "template": "peopledb.tmpl",
      "querykeys": [
        {
          "keyname": "fn",
          "default": "list"
        },
        {
          "keyname": "name",
          "default": ""
        },
        {
          "keyname": "age",
          "default": 0
        }
      ]
    }
  ]
}
              </pre>
              <p>The following html template is also created:</p>
              <pre style="font-family: monospace" class="boxed">
&lt;html&gt;
  &lt;head&gt;&lt;title&gt;People DB&lt;title&gt;&lt;head&gt;
  &lt;body&gt;
    &lt;h3&gt;People DB&lt;h3&gt;
    {{ range $line := .content }}
      &lt;p&gt;&lt;b&gt; $line }}&lt;b&gt;lt;p&gt;
    {{ end }}
    &lt;p&gt;PeopleDB: Tracking names and ages since 2016&lt;p&gt;
  &lt;body&gt;
&lt;html&gt;
              </pre>
              <p>This configuration means that when apinate is called from a browser, the webpage displayed looks like:<p>
              <img src="images/peopledb1.png">
              <p>and,</p>
              <img src="images/peopledb2.png">
            </section>
          </div>
          <div class="row">
            <section class="6u">
              <span class="pennant"><script type="text/javascript" src="https://asciinema.org/a/cwpld829syptw0l2o6t6f9d4j.js" id="asciicast-cwpld829syptw0l2o6t6f9d4j" async></script></span>
              <p>Write a script to display username and login time of all current system users, then map it to a HTTP endpoint that returns JSON.  Then change your mind and return HTML.  In under 90 seconds.</p>
            </section>
            <section class="6u">
              <script type="text/javascript" src="https://asciinema.org/a/4t3lfx840q18cj9qd881aqyzu.js" id="asciicast-4t3lfx840q18cj9qd881aqyzu" async></script>
              <p>Map ping to an HTTP endpoint with parameter that returns XML, then test by calling with the parameter www.google.com; then change to return JSON and test it by calling with the parameter 127.0.0.1; then finally change it to return YAML and test by calling with the parameter www.yahoo.com.</p>
            </section>
          </div>
        </section>

			</div>
		</div>
	<!-- /About -->

	<!-- Quote -->
		<div id="quote">
			<div class="container">
				<section>
					<blockquote>Basically, apinate is super easy to use</blockquote>
				</section>
			</div>
		</div>
	<!-- /Quote -->

	<!-- Footer -->
		<div id="footer">
			<div class="container">
				<section>
					<header>
						<h2>Get in touch</h2>
						<span class="byline">You can help make <em>apinate</em> better by filing bugs, creating pull requests and giving feedback (positive too).</span>
					</header>
					<ul class="contact">
						<li><a href="http://www.twitter.com/PhilipHarriesIT" class="fa fa-twitter"><span>Twitter</span></a></li>
						<li><a href="http://www.github.com/PhilipHarries/apinate" class="fa fa-github"><span>Github</span></a></li>
						<li><a href="mailto:philip@apinate.io" class="fa fa-envelope"><span>Github</span></a></li>
					</ul>
				</section>
			</div>
		</div>
	<!-- /Footer -->

	<!-- Copyright -->
		<div id="copyright">
			<div class="container">
				Design: <a href="http://templated.co">TEMPLATED</a>  <!-- Sponsored by: <a href="www.linuxconsulting.co.uk">Linux Consulting</a> -->
			</div>
		</div>


	</body>
</html>
